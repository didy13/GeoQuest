<!DOCTYPE html>
<html lang="en">
    <%- include("./partials/head.ejs") %>
<body>
    <header>
        <%- include("./partials/nav.ejs") %>
    </header>
    
    <section class="RegistracijaSection container">
        <div class="RegistracijaDiv">
            <h1 class="mb-4">Registracija</h1>
            <form action="/register" method="POST">
                <div class="row">
                    <div class="col-md-6 col-12 mb-3">
                        <label for="Ime">Ime <span class="req">*</span></label>
                        <input type="text" name="ime" placeholder="Unesite svoje ime" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes(" ime")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg.trim() %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                    <div class="col-md-6 col-12 mb-3">
                        <label for="Prezime">Prezime <span class="req">*</span></label>
                        <input type="text" name="prezime" placeholder="Unesite svoje prezime" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes("prezime")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-12 mb-3">
                        <label for="Nickname">Korisničko ime <span class="req">*</span></label>
                        <input type="text" name="nickname" placeholder="Unesite korisničko ime" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes("nickname")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                    <div class="col-md-6 col-12 mb-3">
                        <label for="Email">Email <span class="req">*</span></label>
                        <input type="text" name="email" placeholder="Unesite svoj email" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes("email")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 col-12 mb-3">
                        <label for="Lozinka">Lozinka <span class="req">*</span></label>
                        <input type="password" name="lozinka" placeholder="Unesite lozinku" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes("lozinka")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                    <div class="col-md-6 col-12 mb-3">
                        <label for="datumRodjenja">Datum rođenja <span class="req">*</span></label>
                        <input type="date" name="date" class="form-control mb-1">
                        <% if (errors && errors.length > 0) { %>
                            <div class="error-messages">
                                <%  errors.forEach(function(error) { %>
                                <%  if (error.msg.toLowerCase().includes("datum") || error.msg.toLowerCase().includes("godina")){%>
                                    <div class="error">
                                        <p class="error mb-2"><%= error.msg %></p>
                                    </div>
                                <% }}); %>
                            </div>
                        <% } %>
                    </div>
                </div>
                <% if (error) { %>
                    <div class="text-cetner mt-2">
                        <p class="error"><%= error %></p>
                    </div>
                <% } %>
                <button type="submit" class="btn dugme mt-2">Napravi nalog</button>
            </form>
            <div class="PrijavaRegistracija mt-4">
                <p>Imaš nalog? <a href="/login">Prijavi se</a></p>
            </div>
        </div>
    </section>

    <%- include("./partials/footer.ejs") %>
</body>
</html>